"use strict";let sfHosted,sid,orgTime;const getTime=async()=>{let e=new Date;return e=e.toLocaleString("en-US",{timeZone:""+orgTime})};function createTime(){if(!document.querySelector("#dt-inspect")){var t=document.querySelector("body");let e=document.createElement("div");e.setAttribute("id","dt-inspect"),e.classList.add("slds-button","slds-button_outline-brand","slds-text-title_bold"),e.style.zIndex="1000",e.style.position="fixed",e.style.top="2rem",e.style.right="-19rem",e.style.transition="right 1s ease-in-out",e.addEventListener("mouseover",()=>{e.style.right="0rem"}),e.addEventListener("mouseout",()=>{e.style.right="-19rem"}),setInterval(async()=>{e.innerHTML=`<span>${orgTime}&nbsp;</span><span>${await getTime()}</span>`},1e3),t.appendChild(e)}}async function sfConnect(){await fetch(`https://${sfHosted}/services/data/v60.0/query/?q=SELECT%20TimeZoneSidKey%20FROM%20Organization`,{method:"GET",headers:{Authorization:"Bearer "+sid,Accept:"*/*",Host:"peo.my.salesforce.com","Accept-Encoding":"gzip, deflate, br"}}).then(async e=>{e=await e.json();orgTime=e.records[0].TimeZoneSidKey})}(document.querySelector("body.sfdcBody, body.ApexCSIPage, #auraLoadingBox")||location.host.endsWith("visualforce.com"))&&chrome.runtime.sendMessage({message:"getSfHost",url:location.href},e=>{e&&(sfHosted=e,chrome.runtime.sendMessage({message:"getSession",sfHost:e},async e=>{sid=e.key,await sfConnect(),await createTime()}))});